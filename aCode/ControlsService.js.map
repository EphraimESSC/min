{"version":3,"file":"ControlsService.js","sources":["../../Components/ControlsModule/ControlsService.js"],"names":["ControlsService","$q","$timeout","FieldsGeneratorService","DBService","IdentityService","initialize","getValue","serviceValuesKey","then","item","error","console","log","undefined","setValue","serviceValues","value","dbDataReadDefered","resolve","lists","$","focus","createList","listName","content","sectionType","angular","isUndefined","emptyContent","type","_","pluck","indexOf","list","controls","section","push","persistData","setSelectedList","index","length","selected","listIndex","setSelecedListName","getSelectedList","key","itemKey","allKeys","promise","indexedDB","dbName","objectStore","dataStoreName","get","obj","newVal","forEach","v","i","put","val","err","e","es","getControls","getSelected","getChildNodeAttr","sectionInfo","updateChildInfo","nodeData","childLabel","createNewItem","newItem","properties","id","generateUniqueId","addNewSubItem","label","fieldsInfo","generate","extend","getStructure","fieldPath","fieldValue","legend","text","heading","isDefined","isContainer","controlType","containersArray","getServiceValues","setSelectedItemScope","itemScope","selectedItemScope","getSelectedItemScope","duplicateSelectedItem","childNodeAttr","controlsCopy","copy","$modelValue","clonedControls","scanAndUpdateDuplicateIds","$parentNodeScope","removeList","splice","deleteDB","deleteDatabase","findDeepestNode","data","level","isArray","deepestNode","getDeepestNode","service","zone","children","categorieschildren","defer","diagnose","categories","personalData","module","$inject"],"mappings":"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"}