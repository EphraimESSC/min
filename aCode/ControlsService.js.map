{"version":3,"file":"ControlsService.js","sources":["../../Components/ControlsModule/ControlsService.js"],"names":["ControlsService","$q","$timeout","FieldsGeneratorService","DBService","IdentityService","initialize","getValue","serviceValuesKey","then","item","error","console","log","undefined","setValue","serviceValues","value","dbDataReadDefered","resolve","lists","$","focus","enhanceWithin","createList","listName","content","sectionType","angular","isUndefined","emptyContent","type","_","pluck","indexOf","list","controls","section","push","persistData","setSelectedList","index","length","selected","listIndex","setSelecedListName","getSelectedList","key","itemKey","allKeys","promise","indexedDB","dbName","objectStore","dataStoreName","get","obj","newVal","forEach","v","i","put","val","err","e","es","getControls","getSelected","getChildNodeAttr","sectionInfo","updateChildInfo","nodeData","childLabel","createNewItem","newItem","properties","id","generateUniqueId","addNewSubItem","label","fieldsInfo","generate","extend","getStructure","fieldPath","fieldValue","legend","text","heading","isDefined","isContainer","controlType","containersArray","getServiceValues","setSelectedItemScope","itemScope","selectedItemScope","getSelectedItemScope","duplicateSelectedItem","childNodeAttr","clone","updateControlsId","copy","$modelValue","$parentNodeScope","removeList","splice","deleteDB","deleteDatabase","findDeepestNode","data","level","isArray","deepestNode","getDeepestNode","service","zone","children","categorieschildren","defer","diagnose","categories","personalData","module","$inject"],"mappings":"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"}