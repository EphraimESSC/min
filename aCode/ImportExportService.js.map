{"version":3,"file":"ImportExportService.js","sources":["../../../Components/ControlsTreeModule/ImportExport/ImportExportService.js"],"names":["ImportExportService","FieldsGeneratorService","$q","processImportCSVData","data","allRowsDataArray","split","currentIndex","currentNodeStack","lastAddedNode","childNodeAttr","nodeIdArray","uniqueIndex","angular","forEach","row","i","rowDataArray","columnSeperator","_","map","v","indexOf","replace","importObject","listName","section","length","console","log","controlLevel","parseInt","splice","push","controls","nodeId","nodeIdChanged","node","properties","id","label","text","heading","type","isDefined","fieldsInfo","generate","$","extend","getStructure","fieldPathValueArray","fullPropertyPath","fieldType","fieldValue","isNaN","types","BOOLEAN","fieldName","fieldInfo","fieldPath","SELECT","fieldOptions","j","selectOptionsArray","display","value","deepSet","lastItemIndex","currentNodeChildren","isUndefined","levelsToReduce","processImportJSONData","jsonData","JSON","parse","children","importData","fileFormat","defer","fileControlSelector","file","files","undefined","fr","FileReader","onload","e","target","result","resolve","readAsText","promise","processExportCSVData","objectDataArray","level","exportData","objectData","dataArray","valueToPush","option","join","Array","prototype","apply","processExportJSONData","dataToExport","JsonData","zone","stringify","service","module","$inject"],"mappings":"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"}